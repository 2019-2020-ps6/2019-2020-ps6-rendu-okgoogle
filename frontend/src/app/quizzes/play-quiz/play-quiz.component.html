<head>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">
</head>

<div *ngIf="questionSelected">

  <!-- Modal after good answer -->

<div id="modal-container">
  <div class="modal-background">
    <div class="modal">
      <svg class="modal-svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" preserveAspectRatio="none">
        <rect x="0" y="0" fill="none" width="226" height="162" rx="3" ry="3"></rect>
      </svg>
      <img *ngIf="quizFini" src="https://thumbs.dreamstime.com/b/banni%C3%A8re-de-bravo-91022451.jpg" width="300" alt=""><br>
      <img *ngIf="quizFini === false" src="https://i.pinimg.com/originals/a8/6e/f4/a86ef49a467502013d0521c55deebe85.png" width="300" alt=""><br>
      <p style="font-family: 'Fredoka One', cursive; font-size: 30px;" *ngIf="quizFini === false"> Prochaine question dans {{timerPopup}} secondes</p>
      <a *ngIf="quizFini" (click)="reloadPage()" class="btn blue">Rejouer</a>
      <a *ngIf="quizFini" (click)="goBack()" class="btn cancel">Quitter</a>
    </div>
  </div>
</div>

<!-- Lateral Menu -->

<nav role='navigation'>
  <div id="menuToggle">

    <input class="fermeture" type="checkbox" />

    <span></span>
    <span></span>
    <span></span>

    <ul id="menu">
      <li> Zoom: <input (mouseup)="changeFont($event)" id="zoom" value="20" min="20" max="40" type="range" /> </li>
      <button id="contrast-b" (click)="changeContrastToBlack()" title="Ecriture blanche/Fond noir">Contraste
        inverse</button>
      <button id="contrast-w" (click)="changeContrastToWhite()" title="Ecriture noir/Fond blanc">Contraste normal</button>
    </ul>
  </div>
</nav>

<div style="width: 100%;margin-left: auto;margin-right: auto;">
  <ng-container *ngIf="questionSelected">

    <div style="width: 100%;">
      <div style="width: 85%; margin: auto;"> 
        <span class="titreQuiz">{{curTheme.name}} - <span style="color: chocolate;">{{quiz.name}}</span>  </span>
      </div>
    </div>

    <!-- Display question -->

    <p *ngIf="questionSelected === undefined">Aucune question pour ce quiz :(</p>

    <div id="quiz">
      <h3 *ngIf="questionSelected.imgUrl === ''" class="zommable" id="question">{{questionSelected.label}}</h3>
      <span class="zommable" id="indice"></span>
      

      <div *ngIf="questionSelected.imgUrl">
        <div style="display: flex; justify-content: center;">
          <img style="max-width: 300px;" [src]="questionSelected.imgUrl" alt="">
        </div>
        <h3 class="zommable" id="question">{{questionSelected.label}}</h3>      
      </div>

      <!-- Indice -->

      <span *ngIf=" questionSelected.indice != '' || questionSelected.sonUrl != ''" class="zommable" id="indice"> <p *ngIf="afficheIndice">{{questionSelected.indice}}</p> <p *ngIf="playSong"> Écoutez l'indice <i class='fas fa-headphones'></i></p></span>

      <!-- Answers -->
      
      <div id="containerListe">
        <div class="list-type2">
          <ul class="quiz-list">
            <li class="quiz" (click)="selectAnswer(answer)" *ngFor="let answer of questionSelected.answers">
              <app-answer [answer]="answer"></app-answer>
            </li>
          </ul>
        </div>
      </div>

      <!-- Cancel Button -->

      <div id="struct_bouton">
        <div id=Cbouton>
          <button class="precedent" (click)="questionPrecedente()" id="aide"><i class="fas fa-chevron-circle-left"></i>
            &nbsp;Question précédente</button>
          <button class="aide zoomable" (click)="aide()" id="aide"><i class="far fa-question-circle"></i> &nbsp; Aide</button>
        </div>
      </div>

      <!-- TimeLine -->

      <div style="text-align: center;" class="container">
        <ul class="progressbar-steps">
          <li *ngFor="let question of quiz.questions; let i = index" >
            <span  class="step-content">Question {{i+1}}</span>
          </li>
        </ul>
      </div>

      <!-- Audio indice -->
      <audio hidden *ngIf="questionSelected.sonUrl != '' && playSong" autoplay="true" controls>
        <source [src]="sonUrlQuestionActuelle" type="audio/mpeg">
        Votre navigateur ne supporte pas les contenus audio.
      </audio> 

    </div>
  </ng-container>

</div>
</div>