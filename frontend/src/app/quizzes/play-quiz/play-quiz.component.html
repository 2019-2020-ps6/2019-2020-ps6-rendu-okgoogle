<head>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">
</head>

<div *ngIf="questionSelected">
  <!-- Modal after good answer -->

  <div id="modal-container">
    <div class="modal-background">
      <div class="modal">
        <svg class="modal-svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" preserveAspectRatio="none">
          <rect x="0" y="0" fill="none" width="226" height="162" rx="3" ry="3"></rect>
        </svg>
        <img *ngIf="quizDebut" src="https://lh3.googleusercontent.com/proxy/bzkC0Z_oEfRYOT2NkDJro7oovm-cNzq9zIwAxcuyIjJ2IdSm4nZjRRLcCEAGU09JxZDHlCb2I0wVWlEMsjVop4LrLR41wc6zfMrS1fysS1s1shbpJre3js9cP_M4FRg7ghMt0g4" style="height: 100px; object-fit: cover;" alt="">
        <img *ngIf="quizFini && !quizDebut" src="https://thumbs.dreamstime.com/b/banni%C3%A8re-de-bravo-91022451.jpg" width="300" alt=""><br>
        <img *ngIf="quizFini === false && !quizDebut" src="https://i.pinimg.com/originals/a8/6e/f4/a86ef49a467502013d0521c55deebe85.png" width="300" alt=""><br>
        <p style="font-family: 'Fredoka One', cursive; font-size: 30px;" *ngIf="quizDebut"> Le quiz recommence dans {{timerPopup}} secondes</p>
        <p style="font-family: 'Fredoka One', cursive; font-size: 30px;" *ngIf="quizFini === false && !quizDebut"> Prochaine question dans {{timerPopup}} secondes</p>
        <a *ngIf="quizFini && !quizDebut" (click)="rejouer()" class="btn blue">Rejouer</a>
        <a *ngIf="quizFini && !quizDebut" (click)="goBack()" class="btn cancel">Quitter</a>
      </div>
    </div>
  </div>



      <a style="position: absolute; top: 65px; left: 30px;" *ngIf="!menu" (click)="switchMenu()">
          <svg width="30" height="30">
              <path d="M0,5 30,5" stroke="#333" stroke-width="5"/>
              <path d="M0,14 30,14" stroke="#333" stroke-width="5"/>
              <path d="M0,23 30,23" stroke="#333" stroke-width="5"/>
          </svg>
      </a>

<div *ngIf="menu" id="side-menu" class="side-nav">
  <a style="color: black;" class="btn-close" (click)="switchMenu()">&times;</a>
  <ul id="menu">
    <li> Zoom: <input (mouseup)="changeFont($event)" value="20" min="20" max="40" type="range" /> </li>
    <button id="contrast-b" (click)="changeContrastToBlack()" title="Ecriture blanche/Fond noir">Contraste inverse</button>
    <button id="contrast-w" (click)="changeContrastToWhite()" title="Ecriture noir/Fond blanc">Contraste normal</button>
  </ul>
</div>

<div style="width: 100%;margin-left: auto;margin-right: auto;">
  <ng-container *ngIf="questionSelected">

    <div style="width: 100%;">
      <div style="width: 85%; margin: auto;"> 
        <span class="titreQuiz">{{curTheme.name}} - <span style="color: chocolate;">{{quiz.name}}</span>  </span>
      </div>
    </div>

    <!-- Display question -->

    <p *ngIf="questionSelected === undefined">Aucune question pour ce quiz :(</p>

    <div id="quiz">
      <h3 style="font-size: 25px;" *ngIf="questionSelected.imgUrl === ''" class="zommable" id="question">{{questionSelected.label}}</h3>
      <span class="zommable" id="indice"></span>
      

      <div *ngIf="questionSelected.imgUrl">
        <div style="display: flex; justify-content: center;">
          <img style="max-width: 300px;" [src]="questionSelected.imgUrl" alt="">
        </div>
        <h3 class="zommable" id="question">{{questionSelected.label}}</h3>      
      </div>

      <!-- Indice -->

      <span *ngIf=" questionSelected.indice != '' || questionSelected.sonUrl != ''" class="zommable" id="indice"> <p *ngIf="afficheIndice">{{questionSelected.indice}}</p> <p *ngIf="playSong"> Écoutez l'indice <i class='fas fa-headphones'></i></p></span>

      <!-- Answers -->
      
      <div id="containerListe">
        <div class="list-type2">
          <ul class="quiz-list">
            <li class="quiz" (click)="selectAnswer(answer)" *ngFor="let answer of questionSelected.answers">
              <app-answer [answer]="answer"></app-answer>
            </li>
          </ul>
        </div>
      </div>

      <!-- Cancel and help Button -->

      <div id="struct_bouton">
        <div id=Cbouton>
          <button style="font-size: 25px;" class="precedent" (click)="questionPrecedente()" id="aide">Question précédente</button>
          <button style="font-size: 25px;" class="aide zoomable" (click)="aide()" id="aide"><i class="far fa-question-circle"></i> Aide</button>
        </div>
      </div>

      <!-- TimeLine -->

      <div style="text-align: center;" class="container">
        <ul class="progressbar-steps">
          <li *ngFor="let question of quiz.questions; let i = index" >
            <span  class="step-content">Question {{i+1}}</span>
          </li>
        </ul>
      </div>

      <!-- Audio indice -->
      <audio hidden *ngIf="questionSelected.sonUrl != '' && playSong" autoplay="true" controls>
        <source [src]="sonUrlQuestionActuelle" type="audio/mpeg">
        Votre navigateur ne supporte pas les contenus audio.
      </audio> 

    </div>
  </ng-container>

</div>
</div>